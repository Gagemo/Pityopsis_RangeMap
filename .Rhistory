Liatris = leaflet(FL_sf, options = leafletOptions(zoomControl = FALSE)) %>%
addProviderTiles("GeoportailFrance.orthos") %>%
# Base map
addPolygons(data = FL_counties_sf, color = "gray", weight = 1,
fill = FALSE, group = "County Boundaries") %>%
# Add clipped hulls
addPolygons(data = L.aspera_clipped_hull_sf, color = "#E41A1C", weight = 1,
fillOpacity = 0.3, group = "L. aspera Range") %>%
addPolygons(data = L.chapmanii_hull_sf, color = "#377EB8", weight = 1,
fillOpacity = 0.3, group = "L. chapmanii Range") %>%
# Add observation points
addCircleMarkers(data = inat_L.aspera_pcsp_popup_sf,
popup = ~popup_html, weight = 1,
radius = 3.5, fill = TRUE, fillColor = "#E41A1C", opacity = 1,
fillOpacity = 1, color = "black") %>%
addCircleMarkers(data = inat_L.chapmanii_pcsp_popup_sf,
popup = ~popup_html, weight = 1,
radius = 3.5, fill = TRUE, fillColor = "#377EB8", opacity = 1,
fillOpacity = 1, color = "black") %>%
# Add layer control
addLayersControl(
overlayGroups = c("L. aspera Range", "L. chapmanii Range"),
options = layersControlOptions(collapsed = FALSE)
)
Liatris
# Intersect observations with Florida counties
L.aspera_counties_sf <- FL_counties_sf %>%
filter(st_intersects(geometry,
inat_L.aspera_df %>% st_as_sf(coords = c("longitude", "latitude"), crs = 4326),
sparse = FALSE) %>% apply(1, any))
# Merge the boundaries of counties with observations
L.aspera_range_sf <- st_union(L.aspera_counties_sf)
# Repeat for other species
L.chapmanii_counties_sf <- FL_counties_sf %>%
filter(st_intersects(geometry,
inat_L.chapmanii_df %>% st_as_sf(coords = c("longitude", "latitude"), crs = 4326),
sparse = FALSE) %>% apply(1, any))
L.chapmanii_range_sf <- st_union(L.chapmanii_counties_sf)
# Combine all clipped ranges for mapping
all_ranges_sf <- rbind(
L.aspera_range_sf %>% st_sf() %>% mutate(species = "L. aspera"),
L.chapmanii_range_sf %>% st_sf() %>% mutate(species = "L. chapmanii")
)
# Map the ranges
Liatris <- leaflet(FL_sf, options = leafletOptions(zoomControl = FALSE)) %>%
addProviderTiles("GeoportailFrance.orthos") %>%
addPolygons(data = FL_sf, fill = TRUE, fillColor = "forestgreen", color = "black",
weight = 1, fillOpacity = 0.4) %>%
addPolygons(data = all_ranges_sf,
color = ~species, # Assign unique colors
popup = ~species, # Add popups for species
weight = 2, opacity = 0.8, fillOpacity = 0.4) %>%
addCircleMarkers(data = inat_L.aspera_df %>% st_as_sf(coords = c("longitude", "latitude"), crs = 4326),
popup = ~paste("Species:", species), weight = 1, radius = 3.5,
color = "red") %>%
addCircleMarkers(data = inat_L.chapmanii_df %>% st_as_sf(coords = c("longitude", "latitude"), crs = 4326),
popup = ~paste("Species:", species), weight = 1, radius = 3.5,
color = "blue")
# Load Florida county boundaries
FL_counties_sf <- st_read("geojson-fl-counties-fips.json")
# Intersect observations with Florida counties
L.aspera_counties_sf <- FL_counties_sf %>%
filter(st_intersects(geometry,
inat_L.aspera_df %>% st_as_sf(coords = c("longitude", "latitude"), crs = 4326),
sparse = FALSE) %>% apply(1, any))
# Merge the boundaries of counties with observations
L.aspera_range_sf <- st_union(L.aspera_counties_sf)
# Repeat for other species
L.chapmanii_counties_sf <- FL_counties_sf %>%
filter(st_intersects(geometry,
inat_L.chapmanii_df %>% st_as_sf(coords = c("longitude", "latitude"), crs = 4326),
sparse = FALSE) %>% apply(1, any))
L.chapmanii_range_sf <- st_union(L.chapmanii_counties_sf)
# Combine all clipped ranges for mapping
all_ranges_sf <- rbind(
L.aspera_range_sf %>% st_sf() %>% mutate(species = "L. aspera"),
L.chapmanii_range_sf %>% st_sf() %>% mutate(species = "L. chapmanii")
)
Liatris = leaflet(FL_sf, options = leafletOptions(zoomControl = FALSE)) %>%
addProviderTiles("GeoportailFrance.orthos") %>%
# Base map
addPolygons(data = FL_counties_sf, color = "gray", weight = 1,
fill = FALSE, group = "County Boundaries") %>%
# Add clipped hulls
addPolygons(data = L.aspera_clipped_hull_sf, color = "#E41A1C", weight = 1,
fillOpacity = 0.3, group = "L. aspera Range") %>%
addPolygons(data = L.chapmanii_hull_sf, color = "#377EB8", weight = 1,
fillOpacity = 0.3, group = "L. chapmanii Range") %>%
# Add observation points
addCircleMarkers(data = inat_L.aspera_pcsp_popup_sf,
popup = ~popup_html, weight = 1,
radius = 3.5, fill = TRUE, fillColor = "#E41A1C", opacity = 1,
fillOpacity = 1, color = "black") %>%
addCircleMarkers(data = inat_L.chapmanii_pcsp_popup_sf,
popup = ~popup_html, weight = 1,
radius = 3.5, fill = TRUE, fillColor = "#377EB8", opacity = 1,
fillOpacity = 1, color = "black") %>%
# Add layer control
addLayersControl(
overlayGroups = c("L. aspera Range", "L. chapmanii Range"),
options = layersControlOptions(collapsed = FALSE)
)
Liatris
# Combine all ranges and assign unique colors
all_ranges_sf <- rbind(
st_sf(geometry = L.aspera_range_sf, species = "L. aspera"),
st_sf(geometry = L.chapmanii_range_sf, species = "L. chapmanii")
)
# Assign colors for species
species_colors <- c("L. aspera" = "#E41A1C", "L. chapmanii" = "#377EB8")
# Create Leaflet map
Liatris <- leaflet(FL_sf, options = leafletOptions(zoomControl = FALSE)) %>%
# Add base map and Florida boundaries
addProviderTiles("GeoportailFrance.orthos") %>%
addPolygons(data = FL_sf,
fill = TRUE, fillColor = "forestgreen", color = "black",
weight = 1, fillOpacity = 0.4, group = "Florida Boundary") %>%
# Add L. aspera polygon range
addPolygons(data = all_ranges_sf %>% filter(species == "L. aspera"),
color = species_colors["L. aspera"],
fillColor = species_colors["L. aspera"],
fillOpacity = 0.4, weight = 2,
popup = ~paste0("<b>Species:</b> ", species),
group = "L. aspera Range") %>%
# Add L. chapmanii polygon range
addPolygons(data = all_ranges_sf %>% filter(species == "L. chapmanii"),
color = species_colors["L. chapmanii"],
fillColor = species_colors["L. chapmanii"],
fillOpacity = 0.4, weight = 2,
popup = ~paste0("<b>Species:</b> ", species),
group = "L. chapmanii Range") %>%
# Add L. aspera observation points
addCircleMarkers(data = inat_L.aspera_df %>%
st_as_sf(coords = c("longitude", "latitude"), crs = 4326),
popup = ~paste0("<b>Species:</b> L. aspera"),
radius = 3.5, color = "black",
fill = TRUE, fillColor = species_colors["L. aspera"],
fillOpacity = 1, group = "L. aspera Observations") %>%
# Add L. chapmanii observation points
addCircleMarkers(data = inat_L.chapmanii_df %>%
st_as_sf(coords = c("longitude", "latitude"), crs = 4326),
popup = ~paste0("<b>Species:</b> L. chapmanii"),
radius = 3.5, color = "black",
fill = TRUE, fillColor = species_colors["L. chapmanii"],
fillOpacity = 1, group = "L. chapmanii Observations") %>%
# Add layer control for toggling layers
addLayersControl(
overlayGroups = c("L. aspera Range", "L. chapmanii Range",
"L. aspera Observations", "L. chapmanii Observations"),
options = layersControlOptions(collapsed = FALSE)
) %>%
# Add a legend for the species
addLegend(opacity = 1, position = 'bottomleft',
colors = c(species_colors["L. aspera"], species_colors["L. chapmanii"]),
labels = c("L. aspera Range", "L. chapmanii Range"),
title = "Liatris Species Ranges")
# Print the map
Liatris
# Load Florida county boundaries
FL_counties_sf <- st_read("geojson-fl-counties-fips.json")
# Intersect observations with Florida counties
L.aspera_counties_sf <- FL_counties_sf %>%
filter(st_intersects(geometry,
inat_L.aspera_df %>% st_as_sf(coords = c("longitude", "latitude"), crs = 4326),
sparse = FALSE) %>% apply(1, any))
# Merge the boundaries of counties with observations
L.aspera_range_sf <- st_union(L.aspera_counties_sf)
# Repeat for other species
L.chapmanii_counties_sf <- FL_counties_sf %>%
filter(st_intersects(geometry,
inat_L.chapmanii_df %>% st_as_sf(coords = c("longitude", "latitude"), crs = 4326),
sparse = FALSE) %>% apply(1, any))
L.chapmanii_range_sf <- st_union(L.chapmanii_counties_sf)
# Combine all ranges and assign unique colors
all_ranges_sf <- rbind(
st_sf(geometry = L.aspera_range_sf, species = "L. aspera"),
st_sf(geometry = L.chapmanii_range_sf, species = "L. chapmanii")
)
# Assign colors for species
species_colors <- c("L. aspera" = "#E41A1C", "L. chapmanii" = "#377EB8")
# Create Leaflet map
Liatris <- leaflet(FL_sf, options = leafletOptions(zoomControl = FALSE)) %>%
# Add base map and Florida boundaries
addProviderTiles("GeoportailFrance.orthos") %>%
addPolygons(data = FL_sf,
fill = TRUE, fillColor = "forestgreen", color = "black",
weight = 1, fillOpacity = 0.4, group = "Florida Boundary") %>%
# Add L. aspera polygon range
addPolygons(data = all_ranges_sf %>% filter(species == "L. aspera"),
color = species_colors["L. aspera"],
fillColor = species_colors["L. aspera"],
fillOpacity = 0.4, weight = 2,
popup = ~paste0("<b>Species:</b> ", species),
group = "L. aspera Range") %>%
# Add L. chapmanii polygon range
addPolygons(data = all_ranges_sf %>% filter(species == "L. chapmanii"),
color = species_colors["L. chapmanii"],
fillColor = species_colors["L. chapmanii"],
fillOpacity = 0.4, weight = 2,
popup = ~paste0("<b>Species:</b> ", species),
group = "L. chapmanii Range") %>%
# Add L. aspera observation points
addCircleMarkers(data = inat_L.aspera_df %>%
st_as_sf(coords = c("longitude", "latitude"), crs = 4326),
popup = ~paste0("<b>Species:</b> L. aspera"),
radius = 3.5, color = "black",
fill = TRUE, fillColor = species_colors["L. aspera"],
fillOpacity = 1, group = "L. aspera Observations") %>%
# Add L. chapmanii observation points
addCircleMarkers(data = inat_L.chapmanii_df %>%
st_as_sf(coords = c("longitude", "latitude"), crs = 4326),
popup = ~paste0("<b>Species:</b> L. chapmanii"),
radius = 3.5, color = "black",
fill = TRUE, fillColor = species_colors["L. chapmanii"],
fillOpacity = 1, group = "L. chapmanii Observations") %>%
# Add layer control for toggling layers
addLayersControl(
overlayGroups = c("L. aspera Range", "L. chapmanii Range",
"L. aspera Observations", "L. chapmanii Observations"),
options = layersControlOptions(collapsed = FALSE)
) %>%
# Add a legend for the species
addLegend(opacity = 1, position = 'bottomleft',
colors = c(species_colors["L. aspera"], species_colors["L. chapmanii"]),
labels = c("L. aspera Range", "L. chapmanii Range"),
title = "Liatris Species Ranges")
# Print the map
Liatris
# Create Leaflet map
Liatris <- leaflet(FL_sf, options = leafletOptions(zoomControl = FALSE)) %>%
# Add base map and Florida boundaries
addProviderTiles("GeoportailFrance.orthos") %>%
addPolygons(data = FL_sf,
fill = TRUE, fillColor = "forestgreen", color = "black",
weight = 1, fillOpacity = 0.4, group = "Florida Boundary") %>%
# Add L. aspera polygon range
addPolygons(data = all_ranges_sf %>% filter(species == "L. aspera"),
color = species_colors["L. aspera"],
fillColor = species_colors["L. aspera"],
fillOpacity = 0.4, weight = 2,
popup = ~paste0("<b>Species:</b> ", species),
group = "L. aspera Range") %>%
# Add L. chapmanii polygon range
addPolygons(data = all_ranges_sf %>% filter(species == "L. chapmanii"),
color = species_colors["L. chapmanii"],
fillColor = species_colors["L. chapmanii"],
fillOpacity = 0.4, weight = 2,
popup = ~paste0("<b>Species:</b> ", species),
group = "L. chapmanii Range") %>%
# Add L. aspera observation points
addCircleMarkers(data = inat_L.aspera_df %>%
st_as_sf(coords = c("longitude", "latitude"), crs = 4326),
popup = ~paste0("<b>Species:</b> L. aspera"),
radius = 3.5, color = "black",
fill = TRUE, fillColor = species_colors["L. aspera"],
fillOpacity = 1, group = "L. aspera Observations") %>%
# Add L. chapmanii observation points
addCircleMarkers(data = inat_L.chapmanii_df %>%
st_as_sf(coords = c("longitude", "latitude"), crs = 4326),
popup = ~paste0("<b>Species:</b> L. chapmanii"),
radius = 3.5, color = "black",
fill = TRUE, fillColor = species_colors["L. chapmanii"],
fillOpacity = 1, group = "L. chapmanii Observations") %>%
# Add layer control for toggling layers
addLayersControl(
overlayGroups = c("L. aspera Range", "L. chapmanii Range", ),
options = layersControlOptions(collapsed = FALSE)
) %>%
# Add a legend for the species
addLegend(opacity = 1, position = 'bottomleft',
colors = c(species_colors["L. aspera"], species_colors["L. chapmanii"]),
labels = c("L. aspera Range", "L. chapmanii Range"),
title = "Liatris Species Ranges")
# Create Leaflet map
Liatris <- leaflet(FL_sf, options = leafletOptions(zoomControl = FALSE)) %>%
# Add base map and Florida boundaries
addProviderTiles("GeoportailFrance.orthos") %>%
addPolygons(data = FL_sf,
fill = TRUE, fillColor = "forestgreen", color = "black",
weight = 1, fillOpacity = 0.4, group = "Florida Boundary") %>%
# Add L. aspera polygon range
addPolygons(data = all_ranges_sf %>% filter(species == "L. aspera"),
color = species_colors["L. aspera"],
fillColor = species_colors["L. aspera"],
fillOpacity = 0.4, weight = 2,
popup = ~paste0("<b>Species:</b> ", species),
group = "L. aspera Range") %>%
# Add L. chapmanii polygon range
addPolygons(data = all_ranges_sf %>% filter(species == "L. chapmanii"),
color = species_colors["L. chapmanii"],
fillColor = species_colors["L. chapmanii"],
fillOpacity = 0.4, weight = 2,
popup = ~paste0("<b>Species:</b> ", species),
group = "L. chapmanii Range") %>%
# Add L. aspera observation points
addCircleMarkers(data = inat_L.aspera_df %>%
st_as_sf(coords = c("longitude", "latitude"), crs = 4326),
popup = ~paste0("<b>Species:</b> L. aspera"),
radius = 3.5, color = "black",
fill = TRUE, fillColor = species_colors["L. aspera"],
fillOpacity = 1, group = "L. aspera Observations") %>%
# Add L. chapmanii observation points
addCircleMarkers(data = inat_L.chapmanii_df %>%
st_as_sf(coords = c("longitude", "latitude"), crs = 4326),
popup = ~paste0("<b>Species:</b> L. chapmanii"),
radius = 3.5, color = "black",
fill = TRUE, fillColor = species_colors["L. chapmanii"],
fillOpacity = 1, group = "L. chapmanii Observations") %>%
# Add layer control for toggling layers
addLayersControl(
overlayGroups = c("L. aspera Range", "L. chapmanii Range"),
options = layersControlOptions(collapsed = FALSE)
) %>%
# Add a legend for the species
addLegend(opacity = 1, position = 'bottomleft',
colors = c(species_colors["L. aspera"], species_colors["L. chapmanii"]),
labels = c("L. aspera Range", "L. chapmanii Range"),
title = "Liatris Species Ranges")
# Print the map
Liatris
# Create Leaflet map
Liatris <- leaflet(FL_sf, options = leafletOptions(zoomControl = FALSE)) %>%
# Add base map and Florida boundaries
addProviderTiles("GeoportailFrance.orthos") %>%
addPolygons(data = FL_sf,
fill = TRUE, fillColor = "forestgreen", color = "black",
weight = 1, fillOpacity = 0.4, group = "Florida Boundary") %>%
# Add L. aspera polygon range
addPolygons(data = all_ranges_sf %>% filter(species == "L. aspera"),
color = species_colors["L. aspera"],
fillColor = species_colors["L. aspera"],
fillOpacity = 0.4, weight = 2,
popup = ~paste0("<b>Species:</b> ", species),
group = "L. aspera Range") %>%
# Add L. chapmanii polygon range
addPolygons(data = all_ranges_sf %>% filter(species == "L. chapmanii"),
color = species_colors["L. chapmanii"],
fillColor = species_colors["L. chapmanii"],
fillOpacity = 0.4, weight = 2,
popup = ~paste0("<b>Species:</b> ", species),
group = "L. chapmanii Range") %>%
# Add L. aspera observation points
addCircleMarkers(data = inat_L.aspera_df %>%
st_as_sf(coords = c("longitude", "latitude"), crs = 4326),
popup = ~paste0("<b>Species:</b> L. aspera"),
radius = 3.5, color = "black",
fill = TRUE, fillColor = species_colors["L. aspera"],
fillOpacity = 1, group = "L. aspera Observations") %>%
# Add L. chapmanii observation points
addCircleMarkers(data = inat_L.chapmanii_df %>%
st_as_sf(coords = c("longitude", "latitude"), crs = 4326),
popup = ~paste0("<b>Species:</b> L. chapmanii"),
radius = 3.5, color = "black",
fill = TRUE, fillColor = species_colors["L. chapmanii"],
fillOpacity = 1, group = "L. chapmanii Observations") %>%
# Add layer control for toggling layers
addLayersControl(
overlayGroups = c("L. aspera Range", "L. chapmanii Range",
"L. aspera Observations", "L. chapmanii Observations"),
options = layersControlOptions(collapsed = FALSE)
) %>%
# Add a legend for the species
addLegend(opacity = 1, position = 'bottomleft',
colors = c(species_colors["L. aspera"], species_colors["L. chapmanii"]),
labels = c("L. aspera Range", "L. chapmanii Range"),
title = "Liatris Species Ranges")
# Print the map
Liatris
# Create Leaflet map
Liatris <- leaflet(FL_sf, options = leafletOptions(zoomControl = FALSE)) %>%
# Add base map and Florida boundaries
addProviderTiles("GeoportailFrance.orthos") %>%
addPolygons(data = FL_sf,
fill = TRUE, fillColor = "forestgreen", color = "black",
weight = 1, fillOpacity = 0.4, group = "Florida Boundary") %>%
# Add L. aspera polygon range
addPolygons(data = all_ranges_sf %>% filter(species == "L. aspera"),
color = "#E41A1C",
fillColor = "#E41A1C",
fillOpacity = 0.4, weight = 2,
popup = ~paste0("<b>Species:</b> ", species),
group = "L. aspera Range") %>%
# Add L. chapmanii polygon range
addPolygons(data = all_ranges_sf %>% filter(species == "L. chapmanii"),
color = "#377EB8",
fillColor = "#377EB8",
fillOpacity = 0.4, weight = 2,
popup = ~paste0("<b>Species:</b> ", species),
group = "L. chapmanii Range") %>%
# Add L. aspera observation points
addCircleMarkers(data = inat_L.aspera_df %>%
st_as_sf(coords = c("longitude", "latitude"), crs = 4326),
popup = ~paste0("<b>Species:</b> L. aspera"),
radius = 3.5, color = "#E41A1C",
fill = TRUE, fillColor = species_colors["L. aspera"],
fillOpacity = 1, group = "L. aspera Observations") %>%
# Add L. chapmanii observation points
addCircleMarkers(data = inat_L.chapmanii_df %>%
st_as_sf(coords = c("longitude", "latitude"), crs = 4326),
popup = ~paste0("<b>Species:</b> L. chapmanii"),
radius = 3.5, color = "#377EB8",
fill = TRUE, fillColor = species_colors["L. chapmanii"],
fillOpacity = 1, group = "L. chapmanii Observations") %>%
# Add layer control for toggling layers
addLayersControl(
overlayGroups = c("L. aspera Range", "L. chapmanii Range",
"L. aspera Observations", "L. chapmanii Observations"),
options = layersControlOptions(collapsed = FALSE)
) %>%
# Add a legend for the species
addLegend(opacity = 1, position = 'bottomleft',
colors = c(species_colors["L. aspera"], species_colors["L. chapmanii"]),
labels = c("L. aspera Range", "L. chapmanii Range"),
title = "Liatris Species Ranges")
# Print the map
Liatris
# Create Leaflet map
Liatris <- leaflet(FL_sf, options = leafletOptions(zoomControl = FALSE)) %>%
# Add base map and Florida boundaries
addProviderTiles("GeoportailFrance.orthos") %>%
addPolygons(data = FL_sf,
fill = TRUE, fillColor = "forestgreen", color = "black",
weight = 1, fillOpacity = 0.4, group = "Florida Boundary") %>%
# Add L. aspera polygon range
addPolygons(data = all_ranges_sf %>% filter(species == "L. aspera"),
color = "#E41A1C",
fillColor = "#E41A1C",
fillOpacity = 0.4, weight = 2,
popup = ~paste0("<b>Species:</b> ", species),
group = "L. aspera Range") %>%
# Add L. chapmanii polygon range
addPolygons(data = all_ranges_sf %>% filter(species == "L. chapmanii"),
color = "#377EB8",
fillColor = "#377EB8",
fillOpacity = 0.4, weight = 2,
popup = ~paste0("<b>Species:</b> ", species),
group = "L. chapmanii Range") %>%
# Add L. aspera observation points
addCircleMarkers(data = inat_L.aspera_df %>%
st_as_sf(coords = c("longitude", "latitude"), crs = 4326),
popup = ~paste0("<b>Species:</b> L. aspera"),
radius = 3.5, color = "#E41A1C",
fill = TRUE, fillColor = species_colors["L. aspera"],
fillOpacity = 1, group = "L. aspera Observations") %>%
# Add L. chapmanii observation points
addCircleMarkers(data = inat_L.chapmanii_df %>%
st_as_sf(coords = c("longitude", "latitude"), crs = 4326),
popup = ~paste0("<b>Species:</b> L. chapmanii"),
radius = 3.5, color = "#377EB8",
fill = TRUE, fillColor = species_colors["L. chapmanii"],
fillOpacity = 1, group = "L. chapmanii Observations") %>%
# Add layer control for toggling layers
addLayersControl(
overlayGroups = c("L. aspera Range", "L. chapmanii Range",
"L. aspera Observations", "L. chapmanii Observations"),
options = layersControlOptions(collapsed = FALSE)
) %>%
# Add a legend for the species
addLegend(opacity = 1, position = 'bottomleft',
colors = c(species_colors["L. aspera"], "#377EB8"["L. chapmanii"]),
labels = c("L. aspera Range", "L. chapmanii Range"),
title = "Liatris Species Ranges")
# Print the map
Liatris
# Create Leaflet map
Liatris <- leaflet(FL_sf, options = leafletOptions(zoomControl = FALSE)) %>%
# Add base map and Florida boundaries
addProviderTiles("GeoportailFrance.orthos") %>%
addPolygons(data = FL_sf,
fill = TRUE, fillColor = "forestgreen", color = "black",
weight = 1, fillOpacity = 0.4, group = "Florida Boundary") %>%
# Add L. aspera polygon range
addPolygons(data = all_ranges_sf %>% filter(species == "L. aspera"),
color = "#E41A1C",
fillColor = "#E41A1C",
fillOpacity = 0.4, weight = 2,
popup = ~paste0("<b>Species:</b> ", species),
group = "L. aspera Range") %>%
# Add L. chapmanii polygon range
addPolygons(data = all_ranges_sf %>% filter(species == "L. chapmanii"),
color = "#377EB8",
fillColor = "#377EB8",
fillOpacity = 0.4, weight = 2,
popup = ~paste0("<b>Species:</b> ", species),
group = "L. chapmanii Range") %>%
# Add L. aspera observation points
addCircleMarkers(data = inat_L.aspera_df %>%
st_as_sf(coords = c("longitude", "latitude"), crs = 4326),
popup = ~paste0("<b>Species:</b> L. aspera"),
radius = 3.5, color = "#E41A1C",
fill = TRUE, fillColor = species_colors["L. aspera"],
fillOpacity = 1, group = "L. aspera Observations") %>%
# Add L. chapmanii observation points
addCircleMarkers(data = inat_L.chapmanii_df %>%
st_as_sf(coords = c("longitude", "latitude"), crs = 4326),
popup = ~paste0("<b>Species:</b> L. chapmanii"),
radius = 3.5, color = "#377EB8",
fill = TRUE, fillColor = species_colors["L. chapmanii"],
fillOpacity = 1, group = "L. chapmanii Observations") %>%
# Add layer control for toggling layers
addLayersControl(
overlayGroups = c("L. aspera Range", "L. chapmanii Range",
"L. aspera Observations", "L. chapmanii Observations"),
options = layersControlOptions(collapsed = FALSE)
) %>%
# Add a legend for the species
addLegend(opacity = 1, position = 'bottomleft',
colors = c(species_colors["L. aspera"], species_colors["L. chapmanii"]),
labels = c("L. aspera Range", "L. chapmanii Range"),
title = "Liatris Species Ranges")
# Print the map
Liatris
