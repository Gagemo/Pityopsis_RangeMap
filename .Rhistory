addPolygons(fill = TRUE, fillColor = "blue",color = "black",
weight = 1, fillOpacity = 0.4) %>%
addCircleMarkers(data = inat_P.serotina_pcsp_popup_sf,
popup = ~popup_html, weight = 1,
radius = 3.5, fill = TRUE, fillColor = "#E69F00", opacity = 1,
fillOpacity = 1, color = "black")%>%
addLegend(opacity = 1, position = 'bottomleft',
colors = c("#E69F00"),labels = c("P.serotina"),
title = "Research Grade iNat Observations <br> of Pinus serotina")
P.serotina
sf <- st_read("gz_2010_us_040_00_500k.json", quiet = TRUE) %>%
st_transform(4328)
bb <- sf %>%
st_bbox()
################ Downloads iNat data for each species ##########################
################ Checks & prevents re download #################################
# P. serotina
search_P.serotina_fn <- "P.serotina_FL.Rdata"
if (file.exists(search_P.serotina_fn)) {
load(search_P.serotina_fn)
} else {
inat_P.serotina_df <- get_inat_obs(bounds = bb,
taxon_name = "Pinus serotina",
year = NULL,
month = NULL,
maxresults = 10000)
save(inat_P.serotina_df, file = search_P.serotina_fn)
}
inat_P.serotina_pcsp_popup_sf <- inat_P.serotina_df %>%
select(longitude, latitude, datetime, common_name, scientific_name,
image_url, user_login) %>%
st_as_sf(coords=c("longitude", "latitude"), crs=4326) %>%
st_intersection(sf) %>%
mutate(popup_html = paste0("<p><b>", common_name, "</b><br/>",
"<i>", scientific_name, "</i></p>",
"<p>Observed: ", datetime, "<br/>",
"User: ", user_login, "</p>",
"<p><img src='", image_url,
"' style='width:100%;'/></p>"))
htmltools::p("Pinus serotina in Florida",
style = "font-weight:bold; font-size:110%;")
P.serotina = leaflet(sf, options = leafletOptions(zoomControl = FALSE)) %>%
addProviderTiles("GeoportailFrance.orthos") %>%
addPolygons(fill = TRUE, fillColor = "blue",color = "black",
weight = 1, fillOpacity = 0.4) %>%
addCircleMarkers(data = inat_P.serotina_pcsp_popup_sf,
popup = ~popup_html, weight = 1,
radius = 3.5, fill = TRUE, fillColor = "#E69F00", opacity = 1,
fillOpacity = 1, color = "black")%>%
addLegend(opacity = 1, position = 'bottomleft',
colors = c("#E69F00"),labels = c("P.serotina"),
title = "Research Grade iNat Observations <br> of Pinus serotina")
P.serotina
saveWidget(widget = P.serotina,
file = "P.serotina_Total.html",
selfcontained = TRUE)
sf <- st_read("gz_2010_us_040_00_500k.json", quiet = TRUE) %>%
st_transform()
bb <- sf %>%
st_bbox()
################ Downloads iNat data for each species ##########################
################ Checks & prevents re download #################################
# P. serotina
search_P.serotina_fn <- "P.serotina_FL.Rdata"
if (file.exists(search_P.serotina_fn)) {
load(search_P.serotina_fn)
} else {
inat_P.serotina_df <- get_inat_obs(bounds = bb,
taxon_name = "Pinus serotina",
year = NULL,
month = NULL,
maxresults = 10000)
save(inat_P.serotina_df, file = search_P.serotina_fn)
}
inat_P.serotina_pcsp_popup_sf <- inat_P.serotina_df %>%
select(longitude, latitude, datetime, common_name, scientific_name,
image_url, user_login) %>%
st_as_sf(coords=c("longitude", "latitude"), crs=4326) %>%
st_intersection(sf) %>%
mutate(popup_html = paste0("<p><b>", common_name, "</b><br/>",
"<i>", scientific_name, "</i></p>",
"<p>Observed: ", datetime, "<br/>",
"User: ", user_login, "</p>",
"<p><img src='", image_url,
"' style='width:100%;'/></p>"))
htmltools::p("Pinus serotina in Florida",
style = "font-weight:bold; font-size:110%;")
P.serotina = leaflet(sf, options = leafletOptions(zoomControl = FALSE)) %>%
addProviderTiles("GeoportailFrance.orthos") %>%
addPolygons(fill = TRUE, fillColor = "blue",color = "black",
weight = 1, fillOpacity = 0.4) %>%
addCircleMarkers(data = inat_P.serotina_pcsp_popup_sf,
popup = ~popup_html, weight = 1,
radius = 3.5, fill = TRUE, fillColor = "#E69F00", opacity = 1,
fillOpacity = 1, color = "black")%>%
addLegend(opacity = 1, position = 'bottomleft',
colors = c("#E69F00"),labels = c("P.serotina"),
title = "Research Grade iNat Observations <br> of Pinus serotina")
P.serotina
################ Downloads iNat data for each species ##########################
################ Checks & prevents re download #################################
# P. serotina
search_P.serotina_fn <- "P.serotina.Rdata"
if (file.exists(search_P.serotina_fn)) {
load(search_P.serotina_fn)
} else {
inat_P.serotina_df <- get_inat_obs(bounds = bb,
taxon_name = "Pinus serotina",
year = NULL,
month = NULL,
maxresults = 10000)
save(inat_P.serotina_df, file = search_P.serotina_fn)
}
sf <- st_read("gz_2010_us_040_00_500k.json", quiet = TRUE) %>%
st_transform()
bb <- sf %>%
st_bbox()
################ Downloads iNat data for each species ##########################
################ Checks & prevents re download #################################
# P. serotina
search_P.serotina_fn <- "P.serotina.Rdata"
if (file.exists(search_P.serotina_fn)) {
load(search_P.serotina_fn)
} else {
inat_P.serotina_df <- get_inat_obs(bounds = bb,
taxon_name = "Pinus serotina",
year = NULL,
month = NULL,
maxresults = 1000)
save(inat_P.serotina_df, file = search_P.serotina_fn)
}
sf <- st_read("gz_2010_us_040_00_500k.json", quiet = TRUE) %>%
st_transform(4326)
bb <- sf %>%
st_bbox()
################ Downloads iNat data for each species ##########################
################ Checks & prevents re download #################################
# P. serotina
search_P.serotina_fn <- "P.serotina.Rdata"
if (file.exists(search_P.serotina_fn)) {
load(search_P.serotina_fn)
} else {
inat_P.serotina_df <- get_inat_obs(bounds = bb,
taxon_name = "Pinus serotina",
year = NULL,
month = NULL,
maxresults = 1000)
save(inat_P.serotina_df, file = search_P.serotina_fn)
}
################ Downloads iNat data for each species ##########################
################ Checks & prevents re download #################################
# P. serotina
search_P.serotina_fn <- "P.serotina.Rdata"
if (file.exists(search_P.serotina_fn)) {
load(search_P.serotina_fn)
} else {
inat_P.serotina_df <- get_inat_obs(bounds = bb[c(2,1,4,3)],
taxon_name = "Pinus serotina",
year = NULL,
month = NULL,
maxresults = 1000)
save(inat_P.serotina_df, file = search_P.serotina_fn)
}
inat_P.serotina_pcsp_popup_sf <- inat_P.serotina_df %>%
select(longitude, latitude, datetime, common_name, scientific_name,
image_url, user_login) %>%
st_as_sf(coords=c("longitude", "latitude"), crs=4326) %>%
st_intersection(sf) %>%
mutate(popup_html = paste0("<p><b>", common_name, "</b><br/>",
"<i>", scientific_name, "</i></p>",
"<p>Observed: ", datetime, "<br/>",
"User: ", user_login, "</p>",
"<p><img src='", image_url,
"' style='width:100%;'/></p>"))
htmltools::p("Pinus serotina in Florida",
style = "font-weight:bold; font-size:110%;")
P.serotina = leaflet(sf, options = leafletOptions(zoomControl = FALSE)) %>%
addProviderTiles("GeoportailFrance.orthos") %>%
addPolygons(fill = TRUE, fillColor = "blue",color = "black",
weight = 1, fillOpacity = 0.4) %>%
addCircleMarkers(data = inat_P.serotina_pcsp_popup_sf,
popup = ~popup_html, weight = 1,
radius = 3.5, fill = TRUE, fillColor = "#E69F00", opacity = 1,
fillOpacity = 1, color = "black")%>%
addLegend(opacity = 1, position = 'bottomleft',
colors = c("#E69F00"),labels = c("P.serotina"),
title = "Research Grade iNat Observations <br> of Pinus serotina")
P.serotina
sf <- st_read("gz_2010_us_040_00_500k.json", quiet = TRUE) %>%
st_transform(4326)
bb <- sf %>%
st_bbox()
################ Downloads iNat data for each species ##########################
################ Checks & prevents re download #################################
# P. serotina
search_P.serotina_fn <- "P.serotina.Rdata"
if (file.exists(search_P.serotina_fn)) {
load(search_P.serotina_fn)
} else {
inat_P.serotina_df <- get_inat_obs(bounds = bb[c(2,1,4,3)],
taxon_name = "Pinus serotina",
year = NULL,
month = NULL,
maxresults = 1000)
save(inat_P.serotina_df, file = search_P.serotina_fn)
}
inat_P.serotina_pcsp_popup_sf <- inat_P.serotina_df %>%
select(longitude, latitude, datetime, common_name, scientific_name,
image_url, user_login) %>%
st_as_sf(coords=c("longitude", "latitude"), crs=4326) %>%
st_intersection(sf) %>%
mutate(popup_html = paste0("<p><b>", common_name, "</b><br/>",
"<i>", scientific_name, "</i></p>",
"<p>Observed: ", datetime, "<br/>",
"User: ", user_login, "</p>",
"<p><img src='", image_url,
"' style='width:100%;'/></p>"))
htmltools::p("Pinus serotina in Florida",
style = "font-weight:bold; font-size:110%;")
P.serotina = leaflet(sf, options = leafletOptions(zoomControl = FALSE)) %>%
addProviderTiles("GeoportailFrance.orthos") %>%
addPolygons(fill = TRUE, fillColor = "blue",color = "black",
weight = 1, fillOpacity = 0.4) %>%
addCircleMarkers(data = inat_P.serotina_pcsp_popup_sf,
popup = ~popup_html, weight = 1,
radius = 3.5, fill = TRUE, fillColor = "#E69F00", opacity = 1,
fillOpacity = 1, color = "black")%>%
addLegend(opacity = 1, position = 'bottomleft',
colors = c("#E69F00"),labels = c("P.serotina"),
title = "Research Grade iNat Observations <br> of Pinus serotina")
P.serotina
htmltools::p("Pinus serotina in Florida",
style = "font-weight:bold; font-size:110%;")
P.serotina = leaflet(sf, options = leafletOptions(zoomControl = FALSE)) %>%
addProviderTiles("GeoportailFrance.orthos") %>%
addPolygons(fill = TRUE, fillColor = "blue",color = "black",
weight = 1, fillOpacity = 0.4) %>%
addCircleMarkers(data = inat_P.serotina_pcsp_popup_sf,
popup = ~popup_html, weight = 1,
radius = 3.5, fill = TRUE, fillColor = "#E69F00", opacity = 1,
fillOpacity = 1, color = "black")%>%
addLegend(opacity = 1, position = 'bottomleft',
colors = c("#E69F00"),labels = c("P.serotina"),
title = "Research Grade iNat Observations <br> of Pinus serotina")
P.serotina
sf <- st_read("gz_2010_us_040_00_500k.json", quiet = TRUE) %>%
st_transform(4326)
bb <- sf %>%
st_bbox()
################ Downloads iNat data for each species ##########################
################ Checks & prevents re download #################################
# P. serotina
search_P.serotina_fn <- "P.serotina.Rdata"
if (file.exists(search_P.serotina_fn)) {
load(search_P.serotina_fn)
} else {
inat_P.serotina_df <- get_inat_obs(bounds = bb[c(2,1,4,3)],
taxon_name = "Pinus serotina",
year = NULL,
month = NULL,
maxresults = 1000)
save(inat_P.serotina_df, file = search_P.serotina_fn)
}
inat_P.serotina_pcsp_popup_sf <- inat_P.serotina_df %>%
select(longitude, latitude, datetime, common_name, scientific_name,
image_url, user_login) %>%
st_as_sf(coords=c("longitude", "latitude"), crs=4326) %>%
st_intersection(sf) %>%
mutate(popup_html = paste0("<p><b>", common_name, "</b><br/>",
"<i>", scientific_name, "</i></p>",
"<p>Observed: ", datetime, "<br/>",
"User: ", user_login, "</p>",
"<p><img src='", image_url,
"' style='width:100%;'/></p>"))
htmltools::p("Pinus serotina in Florida",
style = "font-weight:bold; font-size:110%;")
P.serotina = leaflet(sf, options = leafletOptions(zoomControl = FALSE)) %>%
addProviderTiles("GeoportailFrance.orthos") %>%
addPolygons(fill = TRUE, fillColor = "blue",color = "black",
weight = 1, fillOpacity = 0.4) %>%
addCircleMarkers(data = inat_P.serotina_pcsp_popup_sf,
popup = ~popup_html, weight = 1,
radius = 3.5, fill = TRUE, fillColor = "#E69F00", opacity = 1,
fillOpacity = 1, color = "black")%>%
addLegend(opacity = 1, position = 'bottomleft',
colors = c("#E69F00"),labels = c("P.serotina"),
title = "Research Grade iNat Observations <br> of Pinus serotina")
P.serotina
sf <- st_read("gz_2010_us_050_00_500k.json", quiet = TRUE) %>%
st_transform(4326)
bb <- sf %>%
st_bbox()
################ Downloads iNat data for each species ##########################
################ Checks & prevents re download #################################
# P. serotina
search_P.serotina_fn <- "P.serotina.Rdata"
if (file.exists(search_P.serotina_fn)) {
load(search_P.serotina_fn)
} else {
inat_P.serotina_df <- get_inat_obs(bounds = bb[c(2,1,4,3)],
taxon_name = "Pinus serotina",
year = NULL,
month = NULL,
maxresults = 1000)
save(inat_P.serotina_df, file = search_P.serotina_fn)
}
inat_P.serotina_pcsp_popup_sf <- inat_P.serotina_df %>%
select(longitude, latitude, datetime, common_name, scientific_name,
image_url, user_login) %>%
st_as_sf(coords=c("longitude", "latitude"), crs=4326) %>%
st_intersection(sf) %>%
mutate(popup_html = paste0("<p><b>", common_name, "</b><br/>",
"<i>", scientific_name, "</i></p>",
"<p>Observed: ", datetime, "<br/>",
"User: ", user_login, "</p>",
"<p><img src='", image_url,
"' style='width:100%;'/></p>"))
htmltools::p("Pinus serotina in Florida",
style = "font-weight:bold; font-size:110%;")
P.serotina = leaflet(sf, options = leafletOptions(zoomControl = FALSE)) %>%
addProviderTiles("GeoportailFrance.orthos") %>%
addPolygons(fill = TRUE, fillColor = "blue",color = "black",
weight = 1, fillOpacity = 0.4) %>%
addCircleMarkers(data = inat_P.serotina_pcsp_popup_sf,
popup = ~popup_html, weight = 1,
radius = 3.5, fill = TRUE, fillColor = "#E69F00", opacity = 1,
fillOpacity = 1, color = "black")%>%
addLegend(opacity = 1, position = 'bottomleft',
colors = c("#E69F00"),labels = c("P.serotina"),
title = "Research Grade iNat Observations <br> of Pinus serotina")
P.serotina
sf <- st_read("gz_2010_us_040_00_500k.json", quiet = FALSE) %>%
st_transform(4326)
bb <- sf %>%
st_bbox()
################ Downloads iNat data for each species ##########################
################ Checks & prevents re download #################################
# P. serotina
search_P.serotina_fn <- "P.serotina.Rdata"
if (file.exists(search_P.serotina_fn)) {
load(search_P.serotina_fn)
} else {
inat_P.serotina_df <- get_inat_obs(bounds = bb[c(2,1,4,3)],
taxon_name = "Pinus serotina",
year = NULL,
month = NULL,
maxresults = 1000)
save(inat_P.serotina_df, file = search_P.serotina_fn)
}
inat_P.serotina_pcsp_popup_sf <- inat_P.serotina_df %>%
select(longitude, latitude, datetime, common_name, scientific_name,
image_url, user_login) %>%
st_as_sf(coords=c("longitude", "latitude"), crs=4326) %>%
st_intersection(sf) %>%
mutate(popup_html = paste0("<p><b>", common_name, "</b><br/>",
"<i>", scientific_name, "</i></p>",
"<p>Observed: ", datetime, "<br/>",
"User: ", user_login, "</p>",
"<p><img src='", image_url,
"' style='width:100%;'/></p>"))
htmltools::p("Pinus serotina in Florida",
style = "font-weight:bold; font-size:110%;")
P.serotina = leaflet(sf, options = leafletOptions(zoomControl = FALSE)) %>%
addProviderTiles("GeoportailFrance.orthos") %>%
addPolygons(fill = TRUE, fillColor = "blue",color = "black",
weight = 1, fillOpacity = 0.4) %>%
addCircleMarkers(data = inat_P.serotina_pcsp_popup_sf,
popup = ~popup_html, weight = 1,
radius = 3.5, fill = TRUE, fillColor = "#E69F00", opacity = 1,
fillOpacity = 1, color = "black")%>%
addLegend(opacity = 1, position = 'bottomleft',
colors = c("#E69F00"),labels = c("P.serotina"),
title = "Research Grade iNat Observations <br> of Pinus serotina")
P.serotina
sf <- st_read("states_titlecase.json", quiet = FALSE) %>%
st_transform(4326)
unzip(map)
unzip(zipfile = "map")
sf <- st_read("states_titlecase.json", quiet = FALSE) %>%
st_transform(4326)
sf <- st_read("gz_2010_us_040_00_500k.json", quiet = FALSE) %>%
st_transform(4326)
bb <- sf %>%
st_bbox()
################ Downloads iNat data for each species ##########################
################ Checks & prevents re download #################################
# P. serotina
search_P.serotina_fn <- "P.serotina.Rdata"
if (file.exists(search_P.serotina_fn)) {
load(search_P.serotina_fn)
} else {
inat_P.serotina_df <- get_inat_obs(bounds = bb[c(2,1,4,3)],
taxon_name = "Pinus serotina",
year = NULL,
month = NULL,
maxresults = 1000)
save(inat_P.serotina_df, file = search_P.serotina_fn)
}
inat_P.serotina_pcsp_popup_sf <- inat_P.serotina_df %>%
select(longitude, latitude, datetime, common_name, scientific_name,
image_url, user_login) %>%
st_as_sf(coords=c("longitude", "latitude"), crs=4326) %>%
st_intersection(sf) %>%
mutate(popup_html = paste0("<p><b>", common_name, "</b><br/>",
"<i>", scientific_name, "</i></p>",
"<p>Observed: ", datetime, "<br/>",
"User: ", user_login, "</p>",
"<p><img src='", image_url,
"' style='width:100%;'/></p>"))
htmltools::p("Pinus serotina in Florida",
style = "font-weight:bold; font-size:110%;")
P.serotina = leaflet(sf, options = leafletOptions(zoomControl = FALSE)) %>%
addProviderTiles("GeoportailFrance.orthos") %>%
addPolygons(fill = TRUE, fillColor = "blue",color = "black",
weight = 1, fillOpacity = 0.4) %>%
addCircleMarkers(data = inat_P.serotina_pcsp_popup_sf,
popup = ~popup_html, weight = 1,
radius = 3.5, fill = TRUE, fillColor = "#E69F00", opacity = 1,
fillOpacity = 1, color = "black")%>%
addLegend(opacity = 1, position = 'bottomleft',
colors = c("#E69F00"),labels = c("P.serotina"),
title = "Research Grade iNat Observations <br> of Pinus serotina")
P.serotina
sf <- st_read("gz_2010_us_040_00_500k.json", quiet = FALSE) %>%
st_transform(4326)
bb <- sf %>%
st_bbox()
################ Downloads iNat data for each species ##########################
################ Checks & prevents re download #################################
# P. serotina
search_P.serotina_fn <- "P.serotina.Rdata"
if (file.exists(search_P.serotina_fn)) {
load(search_P.serotina_fn)
} else {
inat_P.serotina_df <- get_inat_obs(bounds = bb[c(2,1,4,3)],
taxon_name = "Pinus serotina",
year = NULL,
month = NULL,
maxresults = 1000)
save(inat_P.serotina_df, file = search_P.serotina_fn)
}
inat_P.serotina_pcsp_popup_sf <- inat_P.serotina_df %>%
select(longitude, latitude, datetime, common_name, scientific_name,
image_url, user_login) %>%
st_as_sf(coords=c("longitude", "latitude"), crs=4326) %>%
st_intersection(sf) %>%
mutate(popup_html = paste0("<p><b>", common_name, "</b><br/>",
"<i>", scientific_name, "</i></p>",
"<p>Observed: ", datetime, "<br/>",
"User: ", user_login, "</p>",
"<p><img src='", image_url,
"' style='width:100%;'/></p>"))
htmltools::p("Pinus serotina in Florida",
style = "font-weight:bold; font-size:110%;")
P.serotina = leaflet(sf, options = leafletOptions(zoomControl = FALSE)) %>%
addProviderTiles("GeoportailFrance.orthos") %>%
addPolygons(fill = TRUE, fillColor = "blue",color = "black",
weight = 1, fillOpacity = 0.4) %>%
addCircleMarkers(data = inat_P.serotina_pcsp_popup_sf,
popup = ~popup_html, weight = 1,
radius = 3.5, fill = TRUE, fillColor = "#E69F00", opacity = 1,
fillOpacity = 1, color = "black")%>%
addLegend(opacity = 1, position = 'bottomleft',
colors = c("#E69F00"),labels = c("P.serotina"),
title = "Research Grade iNat Observations <br> of Pinus serotina")
P.serotina
sf <- st_read("gz_2010_us_040_00_500k.json", quiet = FALSE) %>%
st_transform(4326)
bb <- sf %>%
st_bbox()
################ Downloads iNat data for each species ##########################
################ Checks & prevents re download #################################
# P. serotina
search_P.serotina_fn <- "P.serotina.Rdata"
if (file.exists(search_P.serotina_fn)) {
load(search_P.serotina_fn)
} else {
inat_P.serotina_df <- get_inat_obs(bounds = bb[c(2,1,4,3)],
taxon_name = "Pinus serotina",
year = NULL,
month = NULL,
maxresults = 1000)
save(inat_P.serotina_df, file = search_P.serotina_fn)
}
inat_P.serotina_pcsp_popup_sf <- inat_P.serotina_df %>%
select(longitude, latitude, datetime, common_name, scientific_name,
image_url, user_login) %>%
st_as_sf(coords=c("longitude", "latitude"), crs=4326) %>%
st_intersection(sf) %>%
mutate(popup_html = paste0("<p><b>", common_name, "</b><br/>",
"<i>", scientific_name, "</i></p>",
"<p>Observed: ", datetime, "<br/>",
"User: ", user_login, "</p>",
"<p><img src='", image_url,
"' style='width:100%;'/></p>"))
htmltools::p("Pinus serotina in Florida",
style = "font-weight:bold; font-size:110%;")
P.serotina = leaflet(sf, options = leafletOptions(zoomControl = FALSE)) %>%
addProviderTiles("GeoportailFrance.orthos") %>%
addPolygons(fill = TRUE, fillColor = "blue",color = "black",
weight = 1, fillOpacity = 0.4) %>%
addCircleMarkers(data = inat_P.serotina_pcsp_popup_sf,
popup = ~popup_html, weight = 1,
radius = 3.5, fill = TRUE, fillColor = "#E69F00", opacity = 1,
fillOpacity = 1, color = "black")%>%
addLegend(opacity = 1, position = 'bottomleft',
colors = c("#E69F00"),labels = c("P.serotina"),
title = "Research Grade iNat Observations <br> of Pinus serotina")
P.serotina
saveWidget(widget = P.serotina,
file = "P.serotina_Total.html",
selfcontained = TRUE)
